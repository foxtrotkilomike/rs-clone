{"version":3,"file":"articles.bundle.js","mappings":"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","sources":["webpack://my-webpack-project/./src/features/burgerMenu.ts","webpack://my-webpack-project/./src/pages/articles/config.ts","webpack://my-webpack-project/./src/helpers/createElementWithClass.ts","webpack://my-webpack-project/./src/helpers/checkItemInUserLists.ts","webpack://my-webpack-project/./src/config/api.config.js","webpack://my-webpack-project/./src/api/articlesService.ts","webpack://my-webpack-project/./src/helpers/transformOptionsToQueryString.ts","webpack://my-webpack-project/./src/features/cardButtonsHandler.ts","webpack://my-webpack-project/./src/api/userService.ts","webpack://my-webpack-project/./src/helpers/manageUserName.ts","webpack://my-webpack-project/./src/helpers/loginFormHandlers.ts","webpack://my-webpack-project/./src/pages/articles/controller.ts","webpack://my-webpack-project/./src/features/renderCards.ts","webpack://my-webpack-project/./src/helpers/capitalize.ts","webpack://my-webpack-project/./src/features/loadCards.ts","webpack://my-webpack-project/./src/helpers/getCookieValue.ts","webpack://my-webpack-project/./src/features/tabs.ts","webpack://my-webpack-project/./src/features/popup.ts","webpack://my-webpack-project/./src/pages/articles/index.ts","webpack://my-webpack-project/./src/features/selector.ts"],"sourcesContent":["const burgerBtn = document.querySelector('.burger') as HTMLElement;\nconst menu = document.querySelector('.navbar__list') as HTMLElement;\nconst menuLinks = [...document.querySelectorAll('.nav__link')] as HTMLElement[];\n\nexport const burgerMenu = () => {\n  burgerBtn.addEventListener('click', () => {\n    burgerBtn.classList.toggle('burger_open');\n    menu.classList.toggle('navbar__list_open');\n  });\n\n  menuLinks.forEach((el: HTMLElement) => {\n    el.addEventListener('click', () => {\n      burgerBtn.classList.remove('burger_open');\n      menu.classList.remove('navbar__list_open');\n    });\n  });\n};\n","import { IArticleQueryOptions, ILoadArticleCard } from '../../types';\n\nconst initArticlesQueryOptions: IArticleQueryOptions = {\n  page: 0,\n  limit: 7,\n  category: 'cooking tips',\n};\n\nconst articlesLoadConfigInit: ILoadArticleCard = {\n  containerClass: 'articles',\n  listClass: 'articles__list',\n  articleClassList: ['article'],\n  queryOptions: initArticlesQueryOptions,\n};\n\nexport { articlesLoadConfigInit };\n","function createElemWithClass(tagName: string, ...classNames: string[]): HTMLElement {\n  const createdElement = document.createElement(tagName);\n  createdElement.classList.add(...classNames);\n\n  return createdElement;\n}\n\nexport default createElemWithClass;\n","import { IUserResponse } from '../types';\n\nfunction checkItemInUserLists(userObject: IUserResponse | null, listName: 'recipes' | 'articles', itemId: string) {\n  if (!userObject) return [false, false];\n\n  const isInSavedList = userObject[listName].saved.find(id => id === itemId);\n  const isInFavoritesList = userObject[listName].favorite.find(id => id === itemId);\n\n  return [!!isInSavedList, !!isInFavoritesList];\n}\n\nexport default checkItemInUserLists;\n","const BASE_URL = 'https://rs-recipes-server.herokuapp.com';\n\nconst ENDPOINTS = {\n  recipes: '/recipes',\n  recipesDistinctProps: '/recipes/distinct',\n  articles: '/articles',\n  userRegister: '/user/register',\n  userLogin: '/user/login',\n  userLogout: '/user/logout',\n  userProfile: '/user/profile',\n  userUpdate: '/user/update',\n};\n\nexport { BASE_URL, ENDPOINTS };\n","import { BASE_URL, ENDPOINTS } from '../config/api.config';\nimport { IArticle, IArticleQueryOptions } from '../types';\n\nimport transformOptionsToQueryString from '../helpers/transformOptionsToQueryString';\n\nconst getArticles = async (queryOptions?: IArticleQueryOptions): Promise<IArticle[]> => {\n  let queryString = '';\n\n  if (queryOptions && Object.keys(queryOptions).length !== 0) {\n    queryString = transformOptionsToQueryString(queryOptions as IArticleQueryOptions);\n  }\n\n  const response = await fetch(`${BASE_URL}${ENDPOINTS.articles}/${queryString}`);\n\n  return ((await response.json()) as unknown) as IArticle[];\n};\n\nconst getArticlesById = async (articleId: string): Promise<IArticle> => {\n  const response = await fetch(`${BASE_URL}${ENDPOINTS.articles}/${articleId}`);\n\n  return ((await response.json()) as unknown) as IArticle;\n};\n\nexport { getArticles, getArticlesById };\n","import { IRecipeQueryOptions, IArticleQueryOptions } from '../types.js';\n\nconst transformOptionsToQueryString = (queryOptions: IRecipeQueryOptions | IArticleQueryOptions) => {\n  const queryStringArray: string[] = [];\n\n  for (const [optionProp, optionValue] of Object.entries(queryOptions)) {\n    switch (typeof optionProp) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        queryStringArray.push(`${optionProp}=${optionValue}`);\n        break;\n\n      case 'object':\n        queryStringArray.push(`${optionProp}=${optionValue.join(',')}`);\n        break;\n    }\n  }\n\n  return '?' + queryStringArray.join('&');\n};\n\nexport default transformOptionsToQueryString;\n","import { IUserResponse } from '../types';\nimport * as userService from '../api/userService';\nimport { ENDPOINTS } from '../config/api.config';\n\nfunction handleSaveFavoriteButtons(cardElement: Element, cardCategory: 'articles' | 'recipes') {\n  const saveButton = cardElement.querySelector('.save-btn') as HTMLButtonElement;\n  const favoriteButton = cardElement.querySelector('.favorite-btn') as HTMLButtonElement;\n\n  saveButton.addEventListener('click', (e: Event) => {\n    const targetButton = e.target as HTMLButtonElement;\n    targetButton.classList.toggle('is-active');\n    const userObject = JSON.parse(localStorage.getItem('user') || 'null');\n    if (userObject) updateUserResources(userObject, cardElement, targetButton, cardCategory, 'saved');\n  });\n\n  favoriteButton.addEventListener('click', (e: Event) => {\n    const targetButton = e.target as HTMLButtonElement;\n    targetButton.classList.toggle('is-active');\n    const userObject = JSON.parse(localStorage.getItem('user') || 'null');\n    if (userObject) updateUserResources(userObject, cardElement, targetButton, cardCategory, 'favorite');\n  });\n}\n\nfunction updateUserResources(\n  userObject: IUserResponse,\n  cardElement: Element,\n  eventTarget: HTMLButtonElement,\n  cardName: 'articles' | 'recipes',\n  cardCategory: 'saved' | 'favorite'\n) {\n  if (eventTarget.classList.contains('is-active')) {\n    userObject[cardName][cardCategory].push(cardElement.id);\n  } else {\n    userObject[cardName][cardCategory] = userObject[cardName][cardCategory].filter(\n      resourceId => resourceId !== cardElement.id\n    );\n  }\n  userService.sendUserData(userObject, ENDPOINTS.userUpdate);\n  localStorage.setItem('user', JSON.stringify(userObject));\n}\n\nexport { handleSaveFavoriteButtons, updateUserResources };\n","import getCookieValue from '../helpers/getCookieValue';\nimport { BASE_URL, ENDPOINTS } from '../config/api.config';\nimport { IUserResponse } from '../types';\n\nconst getUserData = async (): Promise<IUserResponse | undefined> => {\n  const tokenValue = getCookieValue('token');\n  const signupForm = document.querySelector('.popup') as HTMLElement;\n\n  if (tokenValue) {\n    const response = (await fetch(`${BASE_URL}${ENDPOINTS.userProfile}`, {\n      credentials: 'include',\n    })) as IUserResponse;\n    if (response.status === 200) {\n      return (await response.json()) as IUserResponse;\n    } else {\n      signupForm.classList.add('is-open');\n    }\n  } else {\n    signupForm.classList.add('is-open');\n  }\n};\n\nasync function sendUserData(data: IUserResponse, endpoint: string): Promise<Response> {\n  return (await fetch(`${BASE_URL}${endpoint}`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    credentials: 'include',\n    body: JSON.stringify(data),\n  })) as IUserResponse;\n}\n\nasync function logOut() {\n  const response = (await fetch(`${BASE_URL}${ENDPOINTS.userLogout}`, {\n    credentials: 'include',\n  })) as Response;\n  if (response.status === 204) {\n    localStorage.removeItem('userName');\n    window.open('./index.html', '_self');\n  }\n}\n\nexport { getUserData, sendUserData, logOut };\n","function getUserName() {\n  (document.querySelector('#user-name') as HTMLElement).textContent = window.localStorage.userName || 'User';\n}\n\nfunction setUserName(userName: string) {\n  window.localStorage.userName = userName;\n  (document.querySelector('#user-name') as HTMLElement).textContent = userName;\n}\n\nexport { getUserName, setUserName };\n","import getCookieValue from './getCookieValue';\nimport { BASE_URL, ENDPOINTS } from '../config/api.config';\nimport { IUserResponse } from '../types';\nimport { setUserName } from './manageUserName';\n\nfunction setLocalUser(response: IUserResponse) {\n  window.localStorage.setItem('user', JSON.stringify(response));\n}\n\nfunction addUserButtonListener() {\n  const userProfileButton = document.querySelector('.profile-btn') as HTMLButtonElement;\n  const signupForm = document.querySelector('.popup') as HTMLElement;\n\n  userProfileButton.addEventListener('click', async () => {\n    const tokenValue = getCookieValue('token');\n\n    if (tokenValue) {\n      const response = (await fetch(`${BASE_URL}${ENDPOINTS.userProfile}`, {\n        credentials: 'include',\n      })) as IUserResponse;\n      if (response.status === 200) {\n        const responseBody = (await response.json()) as IUserResponse;\n        setLocalUser(responseBody);\n        window.open('./user-page.html', '_self');\n      } else {\n        signupForm.classList.add('is-open');\n      }\n    } else {\n      signupForm.classList.add('is-open');\n    }\n  });\n}\n\nfunction addRegisterFormListener() {\n  const form = document.forms[1] as HTMLFormElement;\n  form.addEventListener('submit', handleRegistrationForm);\n}\n\nfunction addSignInFormListener() {\n  const form = document.forms[0] as HTMLFormElement;\n  form.addEventListener('submit', handleLoginForm);\n}\n\nasync function handleRegistrationForm(event: Event) {\n  event.preventDefault();\n  const formElement = event.target as HTMLFormElement;\n  const formData = serializeRegistrationForm(event.target as HTMLFormElement);\n\n  if (formData !== undefined) {\n    const response = await sendUserData(formData, ENDPOINTS.userRegister);\n    if (response.status === 400) {\n      (formElement.querySelector('#user-exist') as HTMLElement).classList.remove('hidden');\n    } else {\n      (document.querySelector('.popup') as HTMLElement).classList.remove('is-open');\n      alert('Registered successfully!');\n      formElement.reset();\n      const responseBody = (await response.json()) as IUserResponse;\n      setLocalUser(responseBody);\n      setUserName(responseBody.name);\n    }\n  }\n}\n\nasync function handleLoginForm(event: Event) {\n  event.preventDefault();\n  const formElement = event.target as HTMLFormElement;\n  const formData = serializeLoginForm(event.target as HTMLFormElement);\n\n  const response = await sendUserData(formData, ENDPOINTS.userLogin);\n  switch (response.status) {\n    case 401:\n      (formElement.querySelector('#wrong-password') as HTMLElement).classList.remove('hidden');\n      (formElement.querySelector('#user-not-found') as HTMLElement).classList.add('hidden');\n      break;\n    case 404:\n    case 500:\n      (formElement.querySelector('#user-not-found') as HTMLElement).classList.remove('hidden');\n      (formElement.querySelector('#wrong-password') as HTMLElement).classList.add('hidden');\n      break;\n    case 200: {\n      (document.querySelector('.popup') as HTMLElement).classList.remove('is-open');\n      alert('Logged in successfully!');\n      formElement.reset();\n      const responseBody = (await response.json()) as IUserResponse;\n      setLocalUser(responseBody);\n      setUserName(responseBody.name);\n    }\n  }\n}\n\nfunction serializeRegistrationForm(formNode: HTMLFormElement): FormData | undefined {\n  const password = formNode.password.value;\n  const passwordConfirm = formNode['password-confirm'].value;\n  if (password !== passwordConfirm) {\n    (formNode.querySelector('#password-mismatch') as HTMLElement).classList.remove('hidden');\n  } else {\n    (formNode.querySelector('#password-mismatch') as HTMLFormElement).classList.add('hidden');\n    (formNode.querySelector('#user-exist') as HTMLFormElement).classList.add('hidden');\n    return new FormData(formNode);\n  }\n}\n\nfunction serializeLoginForm(formNode: HTMLFormElement): FormData {\n  return new FormData(formNode);\n}\n\nasync function sendUserData(data: FormData, endpoint: string): Promise<IUserResponse> {\n  return (await fetch(`${BASE_URL}${endpoint}`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    credentials: 'include',\n    body: JSON.stringify(Object.fromEntries(data.entries())),\n  })) as IUserResponse;\n}\n\nexport { addUserButtonListener, addRegisterFormListener, addSignInFormListener };\n","import { renderCards } from '../../features/renderCards';\nimport * as articlesService from '../../api/articlesService';\nimport { ILoadArticleCard } from '../../types';\nimport { articlesLoadConfigInit } from './config';\nimport { handleSaveFavoriteButtons } from '../../features/cardButtonsHandler';\nimport loadCardsContent from '../../features/loadCards';\nimport * as formHandler from '../../helpers/loginFormHandlers';\n\nconst userObject = JSON.parse(localStorage.getItem('user') || 'null');\nconst articlesLoadConfig = articlesLoadConfigInit;\n\nasync function loadArticlesPage(articlesLoadConfig: ILoadArticleCard) {\n  const articlesData = await loadCardsContent(articlesLoadConfig, articlesService.getArticles);\n  renderCards(articlesData, articlesLoadConfig, userObject);\n}\n\nfunction addListeners() {\n  formHandler.addUserButtonListener();\n  formHandler.addRegisterFormListener();\n  formHandler.addSignInFormListener();\n  addCategorySelectListener();\n  addArticleButtonsListeners();\n  addSearchInputListener();\n}\n\nfunction addCategorySelectListener() {\n  const selectContainer = document.querySelector('.options-container') as HTMLDivElement;\n  const categoryInputs = selectContainer.querySelectorAll('input[type=\"radio\"]') as NodeListOf<HTMLInputElement>;\n  for (const radioButton of categoryInputs) {\n    radioButton.addEventListener('change', fetchArticles);\n  }\n}\n\nasync function fetchArticles(e: Event) {\n  const categoryInput = e.target as HTMLInputElement;\n  articlesLoadConfig.queryOptions.category = categoryInput.value.replaceAll('-', ' ');\n  await loadArticlesPage(articlesLoadConfig);\n  addArticleButtonsListeners();\n}\n\nfunction addArticleButtonsListeners() {\n  const articles = document.querySelectorAll('.article');\n  articles.forEach(article => {\n    handleSaveFavoriteButtons(article, 'articles');\n  });\n}\n\nfunction addSearchInputListener() {\n  // const searchInput = document.querySelector('.search__input') as HTMLInputElement;\n  // searchInput.addEventListener('change', (e: Event) => {\n  //   const input = e.target as HTMLInputElement;\n  // });\n}\n\nexport { loadArticlesPage, addListeners };\n","import createElementWithClass from '../helpers/createElementWithClass';\nimport capitalize from '../helpers/capitalize';\nimport checkItemInUserLists from '../helpers/checkItemInUserLists';\nimport { IArticle, ILoadArticleCard, ILoadRecipeCard, IRecipe, IUserResponse } from '../types';\n\nfunction renderRecipeCard(\n  recipeData: IRecipe,\n  size: 'normal' | 'large',\n  classList: string[],\n  elemType: string,\n  userObject: IUserResponse | null\n): HTMLElement {\n  const dishType = capitalize(recipeData.dishTypes[0]) || '';\n  const calories = Math.round(recipeData.nutrition.nutrients[0].amount);\n  const cardId = String(recipeData.id);\n  const cardLink = `./recipe.html?id=${cardId}`;\n  const [isInSavedList, isInFavoritesList] = checkItemInUserLists(userObject, 'recipes', cardId);\n\n  const cardElementClassNames = size === 'normal' ? classList.concat('card') : classList.concat(['card', 'card_lg']);\n  const cardElement = createElementWithClass(elemType, ...cardElementClassNames) as HTMLLIElement;\n  cardElement.id = cardId;\n  cardElement.innerHTML = `\n    <div class=\"card__header\">\n      <p class=\"card__dish\">${dishType}</p>\n      <div class=\"recipe__btns\">\n        <button class=\"save-recipe btn-reset save-btn\"></button>\n        <button class=\"favorite-recipe btn-reset favorite-btn\"></button>\n      </div>\n    </div>\n    <a class=\"card__img\" href=\"${cardLink}\">\n      <img class=\"card__img\" src=${recipeData.image} alt=${recipeData.title}>\n    </a>\n    <a class=\"card-anchor\" href=${cardLink}>\n      <div class=\"card__meta\">\n        <div class=\"data__time\">\n          <p class=\"time__title\">Cook time</p>\n          <p class=\"time__info\">${recipeData.readyInMinutes} min</p>\n        </div>\n        <div class=\"data__calories\">\n          <p class=\"calories__title\">Calories</p>\n          <p class=\"calories__info\">${calories} kcal</p>\n        </div>\n        <div class=\"data__rating\">\n          <p class=\"rating__title\">Rating</p>\n          <p class=\"rating__info\">${recipeData.aggregateLikes}</p>\n        </div>\n      </div>\n      <div class=\"card__body\">\n        <h3 class=\"card__title\">${recipeData.title}</h3>\n        <p class=\"card__text\">${recipeData.summary}</p>\n      </div>\n    </a>\n  `;\n\n  if (isInSavedList) {\n    (cardElement.querySelector('.save-recipe') as HTMLButtonElement).classList.add('is-active');\n  }\n  if (isInFavoritesList) {\n    (cardElement.querySelector('.favorite-recipe') as HTMLButtonElement).classList.add('is-active');\n  }\n\n  return cardElement;\n}\n\nfunction renderArticleCard(\n  articleData: IArticle,\n  articleClass: string[],\n  userObject: IUserResponse | null\n): HTMLElement {\n  const date = new Date(articleData.postedAt).toLocaleDateString('en-us', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  });\n  const cardId = String(articleData._id);\n  const articleLink = `./article.html?id=${cardId}`;\n  const [isInSavedList, isInFavoritesList] = checkItemInUserLists(userObject, 'articles', cardId);\n\n  const articleElement = createElementWithClass('article', ...articleClass) as HTMLElement;\n  articleElement.id = articleData._id;\n  articleElement.innerHTML = `\n    <img class=\"article__img\" src=${articleData.image} alt=\"article preview\">\n    <div class=\"article__content\">\n      <div class=\"article__header\">\n        <time class=\"article__date\" datetime=${articleData.postedAt}>${date}</time>\n        <div class=\"article__btns\">\n          <button class=\"save-article btn-reset save-btn\"></button>\n          <button class=\"favorite-article btn-reset favorite-btn\"></button>\n        </div>\n      </div>\n      <h3 class=\"article__title\">${articleData.title}</h3>\n      <p class=\"article__summary\">${articleData.summary}</p>\n      <a class=\"article__btn btn-reset\" href=${articleLink}>contunue reading</a>\n    </div>\n  `;\n\n  if (isInSavedList) {\n    (articleElement.querySelector('.save-article') as HTMLButtonElement).classList.add('is-active');\n  }\n  if (isInFavoritesList) {\n    (articleElement.querySelector('.favorite-article') as HTMLButtonElement).classList.add('is-active');\n  }\n\n  return articleElement;\n}\n\nfunction renderItems(\n  itemsData: IArticle[] | IRecipe[],\n  loadConfig: ILoadRecipeCard | ILoadArticleCard,\n  userObject: IUserResponse | null\n) {\n  return itemsData.map((item, itemIndex) => {\n    if ('largeCardIndex' in loadConfig) {\n      const size = itemIndex === loadConfig.largeCardIndex ? 'large' : 'normal';\n      return renderRecipeCard(item as IRecipe, size, loadConfig.cardClassList, loadConfig.listElemType, userObject);\n    }\n\n    return renderArticleCard(item as IArticle, loadConfig.articleClassList, userObject);\n  });\n}\n\nfunction renderCards(\n  itemsData: IArticle[] | IRecipe[],\n  loadConfig: ILoadRecipeCard | ILoadArticleCard,\n  userObject: IUserResponse | null\n) {\n  const sectionContainer = document.querySelector(`.${loadConfig.containerClass}`) as HTMLElement;\n  const sectionContainerList = sectionContainer.querySelector(`.${loadConfig.listClass}`) as HTMLUListElement;\n\n  const itemsCards = renderItems(itemsData, loadConfig, userObject);\n\n  sectionContainerList.innerHTML = '';\n  sectionContainerList.append(...itemsCards);\n}\n\nexport { renderRecipeCard, renderArticleCard, renderCards };\n","function capitalize(string: string) {\n  const words = string.split(' ');\n  const wordsCapitalized = words.map(word => word[0].toUpperCase() + word.slice(1));\n\n  return wordsCapitalized.join(' ');\n}\n\nexport default capitalize;\n","import { IArticle, ILoadArticleCard, ILoadRecipeCard, IRecipe } from '../types';\nimport * as articlesService from '../api/articlesService';\nimport * as recipesService from '../api/recipesService';\n\nasync function loadCardsContent(\n  loadConfig: ILoadRecipeCard | ILoadArticleCard,\n  contentLoadingService: typeof articlesService.getArticles | typeof recipesService.getRecipes\n): Promise<IArticle[] | IRecipe[]> {\n  return await contentLoadingService(loadConfig.queryOptions);\n}\n\nexport default loadCardsContent;\n","function getCookieValue(cookieKey: string) {\n  return document.cookie\n    .split('; ')\n    .find(cookie => cookie.startsWith(`${cookieKey}=`))\n    ?.split('=')[1];\n}\n\nexport default getCookieValue;\n","export const tabHandler = (id: string): void => {\n  const tabNavs: NodeListOf<HTMLElement> = (document.getElementById(id) as HTMLElement).querySelectorAll(\n    '.tabs-nav__item'\n  );\n  const tabContents: NodeListOf<HTMLElement> = (document.getElementById(id) as HTMLElement).querySelectorAll(\n    '.tabs-content__item'\n  );\n  let activeTabName = '';\n\n  tabNavs.forEach(element => element.addEventListener('click', e => setActiveTab(e)));\n  const showActiveTabContent = (tabname: string): void => {\n    tabContents.forEach(element => {\n      element.getAttribute('data-tab-content') === tabname\n        ? element.classList.add('is-active')\n        : element.classList.remove('is-active');\n    });\n  };\n  const setActiveTab = (e: Event): void => {\n    e.preventDefault();\n    tabNavs.forEach(element => element.classList.remove('is-active'));\n    const activeTab = (e.target as HTMLElement).classList.contains('tabs-nav__item')\n      ? (e.target as HTMLElement)\n      : (e.target as HTMLElement).closest('.tabs-nav__item');\n    activeTab?.classList.add('is-active');\n    tabContents.forEach(element => element.classList.remove('is-active'));\n    activeTabName = activeTab?.getAttribute('data-tab-name') as string;\n    showActiveTabContent(activeTabName);\n  };\n};\n","const popupHandler = () => {\n  const underlayer = document.querySelector('.popup__body');\n  underlayer?.addEventListener('click', closeParentPopup);\n};\n\nconst closeParentPopup = (e: Event) => {\n  if (e.target instanceof HTMLElement && !e.target?.closest('.popup__content')) {\n    e.target.closest('.popup')?.classList.remove('is-open');\n  }\n};\n\nexport default popupHandler;\n","import { burgerMenu } from '../../features/burgerMenu';\nimport selectHandler from '../../features/selector';\nimport '../../styles/main.scss';\nimport { articlesLoadConfigInit } from './config';\nimport * as Controller from './controller';\nimport { getUserName } from '../../helpers/manageUserName';\nimport { tabHandler } from '../../features/tabs';\nimport popupHandler from '../../features/popup';\n\nController.loadArticlesPage(articlesLoadConfigInit).then(() => Controller.addListeners());\nburgerMenu();\nselectHandler();\ngetUserName();\npopupHandler();\ntabHandler('forms-container');\n","const selectHandler = (): void => {\n  const selected = document.querySelector('#selected');\n  const optionsContainer = document.querySelector('.options-container');\n  const optionsList = document.querySelectorAll('.option');\n  selected?.addEventListener('click', () => {\n    optionsContainer?.classList.toggle('is-active');\n  });\n\n  optionsList.forEach(opt => {\n    opt.addEventListener('click', () => {\n      if (selected) {\n        selected.textContent = opt.textContent?.trim() as string;\n        optionsContainer?.classList.remove('is-active');\n      }\n    });\n  });\n};\n\nexport default selectHandler;\n"],"names":["burgerBtn","document","querySelector","menu","menuLinks","querySelectorAll","articlesLoadConfigInit","containerClass","listClass","articleClassList","queryOptions","page","limit","category","tagName","classNames","createdElement","createElement","classList","add","userObject","listName","itemId","saved","find","id","favorite","getArticles","async","queryString","Object","keys","length","queryStringArray","optionProp","optionValue","entries","push","join","response","fetch","json","updateUserResources","cardElement","eventTarget","cardName","cardCategory","contains","filter","resourceId","data","endpoint","method","headers","credentials","body","JSON","stringify","localStorage","setItem","setUserName","userName","window","textContent","setLocalUser","handleRegistrationForm","event","preventDefault","formElement","target","formData","formNode","password","value","FormData","remove","serializeRegistrationForm","undefined","status","alert","reset","responseBody","name","handleLoginForm","fromEntries","parse","getItem","articlesLoadConfig","loadArticlesPage","itemsData","loadConfig","sectionContainerList","itemsCards","map","item","itemIndex","recipeData","size","elemType","dishType","dishTypes","split","word","toUpperCase","slice","calories","Math","round","nutrition","nutrients","amount","cardId","String","cardLink","isInSavedList","isInFavoritesList","cardElementClassNames","concat","createElementWithClass","innerHTML","image","title","readyInMinutes","aggregateLikes","summary","renderRecipeCard","largeCardIndex","cardClassList","listElemType","articleData","articleClass","date","Date","postedAt","toLocaleDateString","year","month","day","_id","articleLink","articleElement","renderArticleCard","renderItems","append","renderCards","contentLoadingService","loadCards","addListeners","userProfileButton","signupForm","addEventListener","cookieKey","cookie","startsWith","open","forms","categoryInputs","radioButton","fetchArticles","addCategorySelectListener","addArticleButtonsListeners","e","categoryInput","replaceAll","forEach","article","saveButton","favoriteButton","targetButton","toggle","handleSaveFavoriteButtons","closeParentPopup","HTMLElement","closest","then","el","selected","optionsContainer","optionsList","opt","trim","tabNavs","getElementById","tabContents","activeTabName","element","setActiveTab","activeTab","tabname","getAttribute","tabHandler"],"sourceRoot":""}